/*
  2017 Julian Garnier
 Released under the MIT license
*/
var $jscomp$this=this;
(function(q,p){"function"===typeof define&&define.amd?define([],p):"object"===typeof module&&module.exports?module.exports=p():q.anime=p()})(this,function(){function q(a){if(!h.col(a))try{return document.querySelectorAll(a)}catch(b){}}function p(a){return a.reduce(function(a,c){return a.concat(h.arr(c)?p(c):c)},[])}function r(a){if(h.arr(a))return a;h.str(a)&&(a=q(a)||a);return a instanceof NodeList||a instanceof HTMLCollection?[].slice.call(a):[a]}function C(a,b){return a.some(function(a){return a===b})}
function w(a){var b={},c;for(c in a)b[c]=a[c];return b}function D(a,b){var c=w(a),d;for(d in a)c[d]=b.hasOwnProperty(d)?b[d]:a[d];return c}function x(a,b){var c=w(a),d;for(d in b)c[d]=h.und(a[d])?b[d]:a[d];return c}function M(a){a=a.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(a,b,c,g){return b+b+c+c+g+g});var b=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);a=parseInt(b[1],16);var c=parseInt(b[2],16),b=parseInt(b[3],16);return"rgb("+a+","+c+","+b+")"}function N(a){function b(a,b,c){0>
c&&(c+=1);1<c&&--c;return c<1/6?a+6*(b-a)*c:.5>c?b:c<2/3?a+(b-a)*(2/3-c)*6:a}var c=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(a);a=parseInt(c[1])/360;var d=parseInt(c[2])/100,c=parseInt(c[3])/100;if(0==d)d=c=a=c;else{var f=.5>c?c*(1+d):c+d-c*d,e=2*c-f,d=b(e,f,a+1/3),c=b(e,f,a);a=b(e,f,a-1/3)}return"rgb("+255*d+","+255*c+","+255*a+")"}function t(a){if(a=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|pc|vw|vh|deg|rad|turn)?/.exec(a))return a[2]}function O(a){if(-1<a.indexOf("translate"))return"px";
if(-1<a.indexOf("rotate")||-1<a.indexOf("skew"))return"deg"}function y(a,b){if(b in a.style)return getComputedStyle(a).getPropertyValue(b.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())||"0"}function F(a,b){if(h.dom(a)&&C(P,b))return"transform";if(h.dom(a)&&(a.getAttribute(b)||h.svg(a)&&a[b]))return"attribute";if(h.dom(a)&&"transform"!==b&&y(a,b))return"css";if(null!=a[b])return"object"}function Q(a,b){var c=O(b),c=-1<b.indexOf("scale")?1:0+c;a=a.style.transform;if(!a)return c;for(var d=[],f=[],
e=[],g=/(\w+)\((.+?)\)/g;d=g.exec(a);)f.push(d[1]),e.push(d[2]);a=e.filter(function(a,c){return f[c]===b});return a.length?a[0]:c}function G(a,b){switch(F(a,b)){case "transform":return Q(a,b);case "css":return y(a,b);case "attribute":return a.getAttribute(b)}return a[b]||0}function R(a,b){var c=/^(\*=|\+=|-=)/.exec(a);if(!c)return a;b=parseFloat(b);a=parseFloat(a.replace(c[0],""));switch(c[0][0]){case "+":return b+a;case "-":return b-a;case "*":return b*a}}function z(a){return h.obj(a)&&a.hasOwnProperty("totalLength")}
function S(a,b){function c(c){c=void 0===c?0:c;return a.el.getPointAtLength(1<=b+c?b+c:0)}var d=c(),f=c(-1),e=c(1);switch(a.property){case "x":return d.x;case "y":return d.y;case "angle":return 180*Math.atan2(e.y-f.y,e.x-f.x)/Math.PI}}function H(a,b){var c=/-?\d*\.?\d+/g;a=z(a)?a.totalLength:a;if(h.col(a))b=h.rgb(a)?a:h.hex(a)?M(a):h.hsl(a)?N(a):void 0;else{var d=t(a);a=d?a.substr(0,a.length-d.length):a;b=b?a+b:a}b+="";return{original:b,numbers:b.match(c)?b.match(c).map(Number):[0],strings:b.split(c)}}
function T(a,b){return b.reduce(function(b,d,f){return b+a[f-1]+d})}function I(a){return(a?p(h.arr(a)?a.map(r):r(a)):[]).filter(function(a,c,d){return d.indexOf(a)===c})}function U(a){var b=I(a);return b.map(function(a,d){return{target:a,id:d,total:b.length}})}function V(a,b){var c=w(b);if(h.arr(a)){var d=a.length;2!==d||h.obj(a[0])?h.fnc(b.duration)||(c.duration=b.duration/d):a={value:a}}return r(a).map(function(a,c){c=c?0:b.delay;a=h.obj(a)&&!z(a)?a:{value:a};h.und(a.delay)&&(a.delay=c);return a}).map(function(a){return x(a,
c)})}function J(a,b){return h.fnc(a)?a(b.target,b.id,b.total):a}function W(a,b){var c={},d;for(d in a){var f=J(a[d],b);h.arr(f)&&(f=f.map(function(a){return J(a,b)}),1===f.length&&(f=f[0]));c[d]=f}c.duration=parseFloat(c.duration);c.delay=parseFloat(c.delay);return c}function X(a){return h.arr(a)?u.apply(this,a):K[a]}function Y(a,b){var c;return a.tweens.map(function(d){d=W(d,b);var f=d.value,e=G(b.target,a.name),g=c?c.to.original:e,g=h.arr(f)?f[0]:g,f=R(h.arr(f)?f[1]:f,g),e=t(f)||t(g)||t(e);d.from=
H(g,e);d.to=H(f,e);d.start=c?c.end+d.delay:d.delay;d.end=d.start+d.duration;d.easing=X(d.easing);d.elasticity=(1E3-Math.min(Math.max(d.elasticity,1),999))/1E3;h.col(d.from.original)&&(d.round=1);return c=d})}function Z(a,b){b=Math.min(Math.max(b-a.start,0),a.duration);var c=z(a.value),d=b/a.duration,f=a.round;return T(a.to.numbers.map(function(b,g){var e=a.easing(d,a.elasticity);g=c?0:a.from.numbers[g];b=g+e*(b-g);c&&(b=S(a.value,b));f&&(b=Math.round(b*f)/f);return b}),a.to.strings)}function aa(a,
b){var c=F(a.target,b.name);if(c){var d=Y(b,a);return{type:c,property:b.name,animatable:a,tweens:d,duration:d.reduce(function(a,b){return a+b.delay+b.duration},0),delay:d[0].delay}}}function ba(a,b){return p(a.map(function(a){return b.map(function(b){return aa(a,b)})})).filter(function(a){return!h.und(a)})}function A(a,b){var c={};a.currentTime=b;a.progress=b/a.duration*100;for(var d=a.animations,f=0;f<d.length;f++){var e=d[f],g=e.tweens,g=g.filter(function(a){return a.start-a.delay<=b&&a.end>=b})[0]||
g[g.length-1],g=Z(g,b),h=e.animatable;(0,ca[e.type])(h.target,e.property,g,c,h.id);e.currentValue=g}if(c)for(var E in c)B||(B=y(document.body,"transform")?"transform":"-webkit-transform"),a.animatables[E].target.style[B]=c[E].join(" ")}function L(a,b,c){var d="delay"===a?Math.min:Math.max;return b.length?d.apply(Math,b.map(function(b){return b[a]})):c[a]}function da(a){a=void 0===a?{}:a;var b=D(ea,a),c=D(fa,a),d=U(a.targets),f=[],e=x(b,c),g;for(g in a)e.hasOwnProperty(g)||"targets"===g||f.push({name:g,
tweens:V(a[g],c)});g=ba(d,f);return x(b,{animatables:d,animations:g,duration:L("duration",g,c),delay:L("delay",g,c),currentTime:0,progress:0,paused:!0,began:!1,completed:!1,remaining:b.loop})}function k(a){function b(a,b){var e=a.reversed?a.duration-b:b,g=a.duration,h=a.delay,n=a.currentTime;if(a.children)for(var k=a.children,m=0;m<k.length;m++)k[m].seek(e);e<=h&&0!==n&&A(a,0);e>h&&e<g&&(A(a,e),a.began||(a.began=!0,a.begin&&a.begin(a)),a.update&&a.update(a));e>=g&&n!==g&&A(a,g);b>=g&&(a.remaining&&
!isNaN(parseFloat(a.remaining))&&a.remaining--,a.remaining?(d=c,"alternate"===a.direction&&(a.reversed=!a.reversed)):(a.completed=!0,a.began=!1,a.pause(),a.complete&&a.complete(a)),f=0)}var c,d,f=0,e=da(a);e.tick=function(a){c=a;d||(d=c);b(e,(f+c-d)*k.speed)};e.seek=function(a){b(e,e.reversed?e.duration-a:a)};e.pause=function(){var a=m.indexOf(e);-1<a&&m.splice(a,1);e.paused=!0};e.play=function(){if(e.paused){e.paused=!1;d=0;var a;e.completed?a=0:(a=e.currentTime,a=e.reversed?e.duration-a:a);f=a;
"reverse"!==e.direction||e.reversed||(e.reversed=!e.reversed);"alternate"===e.direction&&(e.reversed&&!e.remaining%2&&(e.reversed=!e.reversed),e.remaining||(e.remaining=2));m.push(e);v||ga()}};e.restart=function(){e.pause();e.reversed&&(e.reversed=!e.reversed);e.completed=!1;e.began=!1;e.remaining=e.loop;e.seek(0);e.play()};e.autoplay&&e.restart();return e}var ea={begin:void 0,update:void 0,complete:void 0,loop:0,direction:"normal",autoplay:!0},fa={duration:1E3,delay:0,easing:"easeOutElastic",elasticity:500,
round:0},P="translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY".split(" "),B,h={arr:function(a){return Array.isArray(a)},obj:function(a){return-1<Object.prototype.toString.call(a).indexOf("Object")},svg:function(a){return a instanceof SVGElement},dom:function(a){return a.nodeType||h.svg(a)},str:function(a){return"string"===typeof a},fnc:function(a){return"function"===typeof a},und:function(a){return"undefined"===typeof a},hex:function(a){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a)},
rgb:function(a){return/^rgb/.test(a)},hsl:function(a){return/^hsl/.test(a)},col:function(a){return h.hex(a)||h.rgb(a)||h.hsl(a)}},u=function(){function a(a,c,d){return(((1-3*d+3*c)*a+(3*d-6*c))*a+3*c)*a}return function(b,c,d,f){if(0<=b&&1>=b&&0<=d&&1>=d){var e=new Float32Array(11);if(b!==c||d!==f)for(var g=0;11>g;++g)e[g]=a(.1*g,b,d);return function(g){if(b===c&&d===f)return g;if(0===g)return 0;if(1===g)return 1;for(var h=0,l=1;10!==l&&e[l]<=g;++l)h+=.1;--l;var l=h+(g-e[l])/(e[l+1]-e[l])*.1,k=3*(1-
3*d+3*b)*l*l+2*(3*d-6*b)*l+3*b;if(.001<=k){for(h=0;4>h;++h){k=3*(1-3*d+3*b)*l*l+2*(3*d-6*b)*l+3*b;if(0===k)break;var n=a(l,b,d)-g,l=l-n/k}g=l}else if(0===k)g=l;else{var l=h,h=h+.1,m=0;do n=l+(h-l)/2,k=a(n,b,d)-g,0<k?h=n:l=n;while(1e-7<Math.abs(k)&&10>++m);g=n}return a(g,c,f)}}}}(),K=function(){function a(a,b){return 0===a||1===a?a:-Math.pow(2,10*(a-1))*Math.sin(2*(a-1-b/(2*Math.PI)*Math.asin(1))*Math.PI/b)}var b="Quad Cubic Quart Quint Sine Expo Circ Back Elastic".split(" "),c={In:[[.55,.085,.68,
.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],a],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(b,c){return 1-a(1-b,c)}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(b,c){return.5>b?a(2*b,c)/
2:1-a(-2*b+2,c)/2}]},d={linear:u(.25,.25,.75,.75)},f={},e;for(e in c)f.type=e,c[f.type].forEach(function(a){return function(c,e){d["ease"+a.type+b[e]]=h.fnc(c)?c:u.apply($jscomp$this,c)}}(f)),f={type:f.type};return d}(),ca={css:function(a,b,c){return a.style[b]=c},attribute:function(a,b,c){return a.setAttribute(b,c)},object:function(a,b,c){return a[b]=c},transform:function(a,b,c,d,f){d[f]||(d[f]=[]);d[f].push(b+"("+c+")")}},m=[],v=0,ga=function(){function a(){v=requestAnimationFrame(b)}function b(b){if(m.length){for(var c=
0;c<m.length;c++)m[c].tick(b);a()}else cancelAnimationFrame(v),v=0}return a}();k.version="2.0.0";k.speed=1;k.running=m;k.remove=function(a){a=I(a);for(var b=m.length-1;0<=b;b--)for(var c=m[b],d=c.animations,f=d.length-1;0<=f;f--)C(a,d[f].animatable.target)&&(d.splice(f,1),d.length||c.pause())};k.getValue=G;k.path=function(a,b){var c=h.str(a)?q(a)[0]:a,d=b||100;return function(a){return{el:c,property:a,totalLength:c.getTotalLength()*(d/100)}}};k.setDashoffset=function(a){var b=a.getTotalLength();a.setAttribute("stroke-dasharray",
b);return b};k.bezier=u;k.easings=K;k.timeline=function(a){a=void 0===a?{easing:"linear"}:a;var b=k(a);b.children=[];b.add=function(a){r(a).forEach(function(a){a.duration>b.duration&&(b.duration=a.duration);a.pause();b.children.push(a)})};return b};k.random=function(a,b){return Math.floor(Math.random()*(b-a+1))+a};return k});