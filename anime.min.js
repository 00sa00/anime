/*
  2017 Julian Garnier
 Released under the MIT license
*/
var $jscomp$this=this;
(function(q,n){"function"===typeof define&&define.amd?define([],n):"object"===typeof module&&module.exports?module.exports=n():q.anime=n()})(this,function(){function q(a){if(!g.col(a))try{return document.querySelectorAll(a)}catch(c){}}function n(a){return a.reduce(function(a,d){return a.concat(g.arr(d)?n(d):d)},[])}function r(a){if(g.arr(a))return a;g.str(a)&&(a=q(a)||a);return a instanceof NodeList||a instanceof HTMLCollection?[].slice.call(a):[a]}function B(a,c){return a.some(function(a){return a===c})}
function w(a){var c={},d;for(d in a)c[d]=a[d];return c}function C(a,c){var d=w(a),b;for(b in a)d[b]=c.hasOwnProperty(b)?c[b]:a[b];return d}function x(a,c){var d=w(a),b;for(b in c)d[b]=g.und(a[b])?c[b]:a[b];return d}function K(a){a=a.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(a,c,d,h){return c+c+d+d+h+h});var c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);a=parseInt(c[1],16);var d=parseInt(c[2],16),c=parseInt(c[3],16);return"rgb("+a+","+d+","+c+")"}function L(a){function c(a,b,c){0>
c&&(c+=1);1<c&&--c;return c<1/6?a+6*(b-a)*c:.5>c?b:c<2/3?a+(b-a)*(2/3-c)*6:a}var d=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(a);a=parseInt(d[1])/360;var b=parseInt(d[2])/100,d=parseInt(d[3])/100;if(0==b)b=d=a=d;else{var e=.5>d?d*(1+b):d+b-d*b,f=2*d-e,b=c(f,e,a+1/3),d=c(f,e,a);a=c(f,e,a-1/3)}return"rgb("+255*b+","+255*d+","+255*a+")"}function t(a){if(a=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|pc|vw|vh|deg|rad|turn)?/.exec(a))return a[2]}function M(a){if(-1<a.indexOf("translate"))return"px";
if(-1<a.indexOf("rotate")||-1<a.indexOf("skew"))return"deg"}function y(a,c){if(c in a.style)return getComputedStyle(a).getPropertyValue(c.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())||"0"}function D(a,c){if(g.dom(a)&&B(N,c))return"transform";if(g.dom(a)&&(a.getAttribute(c)||g.svg(a)&&a[c]))return"attribute";if(g.dom(a)&&"transform"!==c&&y(a,c))return"css";if(null!=a[c])return"object"}function O(a,c){var d=M(c),d=-1<c.indexOf("scale")?1:0+d;a=a.style.transform;if(!a)return d;for(var b=[],e=[],
f=[],h=/(\w+)\((.+?)\)/g;b=h.exec(a);)e.push(b[1]),f.push(b[2]);a=f.filter(function(a,b){return e[b]===c});return a.length?a[0]:d}function E(a,c){switch(D(a,c)){case "transform":return O(a,c);case "css":return y(a,c);case "attribute":return a.getAttribute(c)}return a[c]||0}function z(a){return g.obj(a)&&a.hasOwnProperty("totalLength")}function P(a,c){function d(b){b=void 0===b?0:b;return a.el.getPointAtLength(1<=c+b?c+b:0)}var b=d(),e=d(-1),f=d(1);switch(a.property){case "x":return b.x;case "y":return b.y;
case "angle":return 180*Math.atan2(f.y-e.y,f.x-e.x)/Math.PI}}function F(a,c){var d=/-?\d*\.?\d+/g;a=z(a)?a.totalLength:a;if(g.col(a))c=g.rgb(a)?a:g.hex(a)?K(a):g.hsl(a)?L(a):void 0;else{var b=t(a);a=b?a.substr(0,a.length-b.length):a;c=c?a+c:a}c+="";return{original:c,numbers:c.match(d)?c.match(d).map(Number):[0],strings:c.split(d)}}function Q(a,c){return c.reduce(function(c,b,e){return c+a[e-1]+b})}function G(a){return(a?n(g.arr(a)?a.map(r):r(a)):[]).filter(function(a,d,b){return b.indexOf(a)===d})}
function R(a){var c=G(a);return c.map(function(a,b){return{target:a,id:b,total:c.length}})}function S(a,c){var d=w(c);if(g.arr(a)){var b=a.length;2!==b||g.obj(a[0])?g.fnc(c.duration)||(d.duration=c.duration/b):a={value:a}}return r(a).map(function(a,b){b=b?0:c.delay;a=g.obj(a)&&!z(a)?a:{value:a};a.delay=a.delay||b;return a}).map(function(a){return x(a,d)})}function T(a,c,d){var b=[];a=x(a,c);for(var e in d)a.hasOwnProperty(e)||"targets"===e||b.push({name:e,tweens:S(d[e],c)});return b}function H(a,
c){return g.fnc(a)?a(c.target,c.id,c.total):a}function U(a,c){var d={},b;for(b in a){var e=H(a[b],c);g.arr(e)&&(e=e.map(function(a){return H(a,c)}),1===e.length&&(e=e[0]));d[b]=e}d.duration=parseFloat(d.duration);d.delay=parseFloat(d.delay);return d}function V(a){return g.arr(a)?u.apply(this,a):I[a]}function W(a,c){var d;return a.tweens.map(function(b){b=U(b,c);var e=b.value,f=E(c.target,a.name),h=d?d.to.original:f,h=g.arr(e)?e[0]:h,k=g.arr(e)?e[1]:e,f=t(k)||t(h)||t(f);e=(e=/^(\*=|\+=|-=)/.exec(k))?
e[0]:void 0;if(e)a:{var p=k,k=parseFloat(h),p=parseFloat(p.replace(e,""));switch(e[0]){case "+":k+=p;break a;case "-":k-=p;break a;case "*":k*=p;break a}k=void 0}b.from=F(h,f);b.to=F(k,f);b.start=d?d.end+b.delay:b.delay;b.end=b.start+b.duration;b.easing=V(b.easing);b.elasticity=(1E3-Math.min(Math.max(b.elasticity,1),999))/1E3;g.col(b.from.original)&&(b.round=1);return d=b})}function X(a,c){c=Math.min(Math.max(c-a.start,0),a.duration);var d=z(a.value),b=c/a.duration,e=a.round;return Q(a.to.numbers.map(function(c,
h){var k=a.easing(b,a.elasticity);h=d?0:a.from.numbers[h];c=h+k*(c-h);d&&(c=P(a.value,c));e&&(c=Math.round(c*e)/e);return c}),a.to.strings)}function Y(a,c){var d=D(a.target,c.name);if(d){var b=W(c,a);return{type:d,property:c.name,animatable:a,tweens:b,duration:b.reduce(function(a,b){return a+b.delay+b.duration},0),delay:b[0].delay}}}function Z(a,c){return n(a.map(function(a){return c.map(function(b){return Y(a,b)})})).filter(function(a){return!g.und(a)})}function aa(a,c){a=a.children;for(var d=0;d<
a.length;d++)a[d].seek(c)}function J(a,c){var d={},b=a.animations,e=a.reversed?a.duration-c:c;a.currentTime=e;a.progress=e/a.duration*100;for(c=0;c<b.length;c++){var f=b[c],h=f.tweens,h=h.filter(function(a){return a.start-a.delay<=e&&a.end>=e})[0]||h[h.length-1],h=X(h,e),k=f.animatable;(0,ba[f.type])(k.target,f.property,h,d,k.id);f.currentValue=h}if(d)for(var g in d)A||(A=y(document.body,"transform")?"transform":"-webkit-transform"),a.animatables[g].target.style[A]=d[g].join(" ");a.update&&a.update(a);
a.children&&aa(a,e)}function ca(a){a=void 0===a?{}:a;var c=C(da,a),d=C(ea,a),b=R(a.targets);a=T(c,d,a);a=Z(b,a);return x(c,{animatables:b,animations:a,duration:a.length?Math.max.apply(Math,a.map(function(a){return a.duration})):d.duration,delay:a.length?Math.min.apply(Math,a.map(function(a){return a.delay})):d.delay,currentTime:0,progress:0,paused:!0,began:!1,completed:!1,remaining:c.loop})}function l(a){var c,d=0,b=ca(a);b.tick=function(a){c||(c=a);var e=Math.min(Math.max((d+a-c)*l.speed,0),b.duration);
J(b,e);!b.began&&e>=b.delay&&(b.began=!0,b.begin&&b.begin(b));e>=b.duration&&(b.remaining&&!isNaN(parseFloat(b.remaining))&&b.remaining--,b.remaining?(c=a,"alternate"===b.direction&&(b.reversed=!b.reversed)):(b.completed=!0,b.began=!1,b.pause(),b.complete&&b.complete(b)),d=0)};b.seek=function(a){J(b,b.reversed?b.duration-a:a)};b.pause=function(){var a=m.indexOf(b);-1<a&&m.splice(a,1);b.paused=!0};b.play=function(){if(b.paused){b.paused=!1;c=0;var a;b.completed?a=0:(a=b.currentTime,a=b.reversed?b.duration-
a:a);d=a;"reverse"!==b.direction||b.reversed||(b.reversed=!b.reversed);"alternate"===b.direction&&(b.reversed&&!b.remaining%2&&(b.reversed=!b.reversed),b.remaining||(b.remaining=2));m.push(b);v||fa()}};b.restart=function(){b.pause();b.reversed&&(b.reversed=!b.reversed);b.completed=!1;b.began=!1;b.remaining=b.loop;b.seek(0);b.play()};b.autoplay&&b.restart();return b}var da={begin:void 0,update:void 0,complete:void 0,loop:0,direction:"normal",autoplay:!0},ea={duration:1E3,delay:0,easing:"easeOutElastic",
elasticity:500,round:0},N="translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY".split(" "),A,g={arr:function(a){return Array.isArray(a)},obj:function(a){return-1<Object.prototype.toString.call(a).indexOf("Object")},svg:function(a){return a instanceof SVGElement},dom:function(a){return a.nodeType||g.svg(a)},str:function(a){return"string"===typeof a},fnc:function(a){return"function"===typeof a},und:function(a){return"undefined"===typeof a},hex:function(a){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a)},
rgb:function(a){return/^rgb/.test(a)},hsl:function(a){return/^hsl/.test(a)},col:function(a){return g.hex(a)||g.rgb(a)||g.hsl(a)}},u=function(){function a(a,d,b){return(((1-3*b+3*d)*a+(3*b-6*d))*a+3*d)*a}return function(c,d,b,e){if(0<=c&&1>=c&&0<=b&&1>=b){var g=new Float32Array(11);if(c!==d||b!==e)for(var h=0;11>h;++h)g[h]=a(.1*h,c,b);return function(h){if(c===d&&b===e)return h;if(0===h)return 0;if(1===h)return 1;for(var k=0,f=1;10!==f&&g[f]<=h;++f)k+=.1;--f;var f=k+(h-g[f])/(g[f+1]-g[f])*.1,l=3*(1-
3*b+3*c)*f*f+2*(3*b-6*c)*f+3*c;if(.001<=l){for(k=0;4>k;++k){l=3*(1-3*b+3*c)*f*f+2*(3*b-6*c)*f+3*c;if(0===l)break;var m=a(f,c,b)-h,f=f-m/l}h=f}else if(0===l)h=f;else{var f=k,k=k+.1,n=0;do m=f+(k-f)/2,l=a(m,c,b)-h,0<l?k=m:f=m;while(1e-7<Math.abs(l)&&10>++n);h=m}return a(h,d,e)}}}}(),I=function(){function a(a,b){return 0===a||1===a?a:-Math.pow(2,10*(a-1))*Math.sin(2*(a-1-b/(2*Math.PI)*Math.asin(1))*Math.PI/b)}var c="Quad Cubic Quart Quint Sine Expo Circ Back Elastic".split(" "),d={In:[[.55,.085,.68,
.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],a],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(b,c){return 1-a(1-b,c)}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(b,c){return.5>b?a(2*b,c)/
2:1-a(-2*b+2,c)/2}]},b={linear:u(.25,.25,.75,.75)},e={},f;for(f in d)e.type=f,d[e.type].forEach(function(a){return function(d,e){b["ease"+a.type+c[e]]=g.fnc(d)?d:u.apply($jscomp$this,d)}}(e)),e={type:e.type};return b}(),ba={css:function(a,c,d){return a.style[c]=d},attribute:function(a,c,d){return a.setAttribute(c,d)},object:function(a,c,d){return a[c]=d},transform:function(a,c,d,b,e){b[e]||(b[e]=[]);b[e].push(c+"("+d+")")}},m=[],v=0,fa=function(){function a(){v=requestAnimationFrame(c)}function c(c){if(m.length){for(var b=
0;b<m.length;b++)m[b].tick(c);a()}else cancelAnimationFrame(v),v=0}return a}();l.version="2.0.0";l.speed=1;l.running=m;l.remove=function(a){a=G(a);for(var c=m.length-1;0<=c;c--)for(var d=m[c],b=d.animations,e=b.length-1;0<=e;e--)B(a,b[e].animatable.target)&&(b.splice(e,1),b.length||d.pause())};l.getValue=E;l.path=function(a,c){var d=g.str(a)?q(a)[0]:a,b=c||100;return function(a){return{el:d,property:a,totalLength:d.getTotalLength()*(b/100)}}};l.setDashoffset=function(a){var c=a.getTotalLength();a.setAttribute("stroke-dasharray",
c);return c};l.bezier=u;l.easings=I;l.timeline=function(a){a=void 0===a?{easing:"linear"}:a;var c=l(a);c.children=[];c.add=function(a){r(a).forEach(function(a){a.duration>c.duration&&(c.duration=a.duration);a.pause();c.children.push(a)})};return c};l.random=function(a,c){return Math.floor(Math.random()*(c-a+1))+a};return l});