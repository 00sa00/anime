/*
 2017 Julian Garnier
 Released under the MIT license
*/
var $jscomp$this=this;
(function(v,n){"function"===typeof define&&define.amd?define([],n):"object"===typeof module&&module.exports?module.exports=n():v.anime=n()})(this,function(){function v(a){if(!g.col(a))try{return document.querySelectorAll(a)}catch(c){}}function n(a){return a.reduce(function(a,d){return a.concat(g.arr(d)?n(d):d)},[])}function w(a){if(g.arr(a))return a;g.str(a)&&(a=v(a)||a);return a instanceof NodeList||a instanceof HTMLCollection?[].slice.call(a):[a]}function G(a,c){return a.some(function(a){return a===c})}
function B(a){var c={},d;for(d in a)c[d]=a[d];return c}function C(a,c){var d=B(a),b;for(b in a)d[b]=c.hasOwnProperty(b)?c[b]:a[b];return d}function x(a,c){var d=B(a),b;for(b in c)d[b]=g.und(a[b])?c[b]:a[b];return d}function V(a){a=a.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(a,c,d,h){return c+c+d+d+h+h});var c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);a=parseInt(c[1],16);var d=parseInt(c[2],16),c=parseInt(c[3],16);return"rgb("+a+","+d+","+c+")"}function W(a){function c(a,c,b){0>
b&&(b+=1);1<b&&--b;return b<1/6?a+6*(c-a)*b:.5>b?c:b<2/3?a+(c-a)*(2/3-b)*6:a}a=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(a)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(a);var d=parseInt(a[1])/360,b=parseInt(a[2])/100,e=parseInt(a[3])/100;a=a[4];if(0==b)e=b=d=e;else var l=.5>e?e*(1+b):e+b-e*b,h=2*e-l,e=c(h,l,d+1/3),b=c(h,l,d),d=c(h,l,d-1/3);d="("+255*e+","+255*b+","+255*d;return a?"rgba"+d+","+a+")":"rgb"+d+")"}function u(a){if(a=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(a))return a[2]}
function X(a){if(-1<a.indexOf("translate")||"perspective"===a)return"px";if(-1<a.indexOf("rotate")||-1<a.indexOf("skew"))return"deg"}function H(a,c){return g.fnc(a)?a(c.target,c.id,c.total):a}function D(a,c){if(c in a.style)return getComputedStyle(a).getPropertyValue(c.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())||"0"}function I(a,c){if(g.dom(a)&&G(Y,c))return"transform";if(g.dom(a)&&(a.getAttribute(c)||g.svg(a)&&a[c]))return"attribute";if(g.dom(a)&&"transform"!==c&&D(a,c))return"css";if(null!=
a[c])return"object"}function Z(a,c){var d=X(c),d=-1<c.indexOf("scale")?1:0+d;a=a.style.transform;if(!a)return d;for(var b=[],e=[],l=[],h=/(\w+)\((.+?)\)/g;b=h.exec(a);)e.push(b[1]),l.push(b[2]);a=l.filter(function(a,b){return e[b]===c});return a.length?a[0]:d}function J(a,c){switch(I(a,c)){case "transform":return Z(a,c);case "css":return D(a,c);case "attribute":return a.getAttribute(c)}return a[c]||0}function K(a,c){var d=/^(\*=|\+=|-=)/.exec(a);if(!d)return a;var b=u(a)||0;c=parseFloat(c);a=parseFloat(a.replace(d[0],
""));switch(d[0][0]){case "+":return c+a+b;case "-":return c-a+b;case "*":return c*a+b}}function E(a,c){return Math.sqrt(Math.pow(c.x-a.x,2)+Math.pow(c.y-a.y,2))}function L(a){a=a.points;for(var c=0,d,b=0;b<a.numberOfItems;b++){var e=a.getItem(b);0<b&&(c+=E(d,e));d=e}return c}function M(a){if(a.getTotalLength)return a.getTotalLength();switch(a.tagName.toLowerCase()){case "circle":return 2*Math.PI*a.getAttribute("r");case "rect":return 2*a.getAttribute("width")+2*a.getAttribute("height");case "line":return E({x:a.getAttribute("x1"),
y:a.getAttribute("y1")},{x:a.getAttribute("x2"),y:a.getAttribute("y2")});case "polyline":return L(a);case "polygon":var c=a.points;return L(a)+E(c.getItem(c.numberOfItems-1),c.getItem(0))}}function aa(a,c){function d(b){b=void 0===b?0:b;return a.el.getPointAtLength(1<=c+b?c+b:0)}var b=d(),e=d(-1),l=d(1);switch(a.property){case "x":return b.x;case "y":return b.y;case "angle":return 180*Math.atan2(l.y-e.y,l.x-e.x)/Math.PI}}function N(a,c){var d=/-?\d*\.?\d+/g,b;b=g.pth(a)?a.totalLength:a;if(g.col(b))b=
g.rgb(b)?b:g.hex(b)?V(b):g.hsl(b)?W(b):void 0;else{var e=u(b),e=e?b.substr(0,b.length-e.length):b;b=c&&!/\s/g.test(b)?e+c:e}b+="";return{original:b,numbers:b.match(d)?b.match(d).map(Number):[0],strings:g.str(a)||c?b.split(d):[]}}function ba(a,c){return c.length?c.reduce(function(c,b,e){return b?c+a[e-1]+b:c+a[e-1]+" "}):a[0]}function O(a){return(a?n(g.arr(a)?a.map(w):w(a)):[]).filter(function(a,d,b){return b.indexOf(a)===d})}function ca(a){var c=O(a);return c.map(function(a,b){return{target:a,id:b,
total:c.length}})}function da(a,c){var d=B(c);if(g.arr(a)){var b=a.length;2!==b||g.obj(a[0])?g.fnc(c.duration)||(d.duration=c.duration/b):a={value:a}}return w(a).map(function(a,b){b=b?0:c.delay;a=g.obj(a)&&!g.pth(a)?a:{value:a};g.und(a.delay)&&(a.delay=b);return a}).map(function(a){return x(a,d)})}function ea(a,c){var d={},b;for(b in a){var e=H(a[b],c);g.arr(e)&&(e=e.map(function(a){return H(a,c)}),1===e.length&&(e=e[0]));d[b]=e}d.duration=parseFloat(d.duration);d.delay=parseFloat(d.delay);return d}
function fa(a){return g.arr(a)?z.apply(this,a):P[a]}function ga(a,c){var d;return a.tweens.map(function(b){b=ea(b,c);var e=b.value,l=J(c.target,a.name),h=d?d.to.original:l,h=g.arr(e)?e[0]:h,k=K(g.arr(e)?e[1]:e,h),l=u(k)||u(h)||u(l);b.from=N(h,l);b.to=N(k,l);b.start=d?d.end:a.offset;b.end=b.start+b.delay+b.duration;b.easing=fa(b.easing);b.elasticity=(1E3-Math.min(Math.max(b.elasticity,1),999))/1E3;b.isPath=g.pth(e);b.isColor=g.col(b.from.original);b.isColor&&(b.round=1);return d=b})}function ha(a,
c){return n(a.map(function(a){return c.map(function(b){var c=I(a.target,b.name);if(c){var d=ga(b,a);b={type:c,property:b.name,animatable:a,tweens:d,duration:d[d.length-1].end,delay:d[0].delay}}else b=void 0;return b})})).filter(function(a){return!g.und(a)})}function Q(a,c,d,b){var e="delay"===a;return c.length?(e?Math.min:Math.max).apply(Math,c.map(function(b){return b[a]})):e?b.delay:d.offset+b.delay+b.duration}function ia(a){var c=C(ja,a),d=C(R,a),b=ca(a.targets),e=[],g=x(c,d),h;for(h in a)g.hasOwnProperty(h)||
"targets"===h||e.push({name:h,offset:g.offset,tweens:da(a[h],d)});a=ha(b,e);return x(c,{children:[],animatables:b,animations:a,duration:Q("duration",a,c,d),delay:Q("delay",a,c,d)})}function m(a){function c(){return window.Promise&&new Promise(function(a){return T=a})}function d(a){return f.reversed?f.duration-a:a}function b(a){for(var b=0,c={},d=f.animations,e={};b<d.length;){var g=d[b],h=g.animatable,k=g.tweens;e.tween=k.filter(function(b){return a<b.end})[0]||k[k.length-1];k=Math.min(Math.max(a-
e.tween.start-e.tween.delay,0),e.tween.duration)/e.tween.duration;e.eased=isNaN(k)?1:e.tween.easing(k,e.tween.elasticity);e.round=e.tween.round;k=ba(e.tween.to.numbers.map(function(a){return function(b,c){var d=a.tween.from.numbers[c];b=d+a.eased*(b-d);a.tween.isPath&&(b=aa(a.tween.value,b));a.round&&a.tween.isColor&&3>c&&(b=Math.round(b*a.round)/a.round);return b}}(e)),e.tween.to.strings);ka[g.type](h.target,g.property,k,c,h.id);g.currentValue=k;b++;e={tween:e.tween,eased:e.eased,round:e.round}}if(c)for(var l in c)F||
(F=D(document.body,"transform")?"transform":"-webkit-transform"),f.animatables[l].target.style[F]=c[l].join(" ");f.currentTime=a;f.progress=a/f.duration*100}function e(a){if(f[a])f[a](f)}function g(){f.remaining&&!0!==f.remaining&&f.remaining--}function h(a){var h=f.duration,l=f.offset,m=l+f.delay,S=f.currentTime,p=f.reversed,q=d(a);if(f.children.length){var n=f.children;if(q>=f.currentTime)for(var t=0;t<n.length;t++)n[t].seek(q);else for(t=n.length;t--;)n[t].seek(q)}if(q>=m||!h)f.began||(f.began=
!0,e("begin")),e("run");if(q>l&&q<h)b(q);else if(q<=l&&0!==S&&(b(0),p&&g()),q>=h&&S!==h||!h)b(h),p||g();e("update");a>=h&&(f.remaining?(r=k,"alternate"===f.direction&&(f.reversed=!f.reversed)):(f.pause(),f.completed||(f.completed=!0,e("complete"),"Promise"in window&&(T(),U=c()))),y=0)}a=void 0===a?{}:a;var k,r,y=0,T=null,U=c(),f=ia(a);f.reset=function(){var a=f.direction,c=f.loop;f.currentTime=0;f.progress=0;f.paused=!0;f.began=!1;f.completed=!1;f.reversed="reverse"===a;f.remaining="alternate"===
a&&1===c?2:c;b(0);for(a=f.children.length;a--;)f.children[a].reset()};f.tick=function(a){k=a;r||(r=k);h((y+k-r)*m.speed)};f.seek=function(a){h(d(a))};f.pause=function(){var a=p.indexOf(f);-1<a&&p.splice(a,1);f.paused=!0};f.play=function(){f.paused&&(f.paused=!1,r=0,y=d(f.currentTime),p.push(f),A||la())};f.reverse=function(){f.reversed=!f.reversed;r=0;y=d(f.currentTime)};f.restart=function(){f.pause();f.reset();f.play()};f.finished=U;f.reset();f.autoplay&&f.play();return f}var ja={update:void 0,begin:void 0,
run:void 0,complete:void 0,loop:1,direction:"normal",autoplay:!0,offset:0},R={duration:1E3,delay:0,easing:"easeOutElastic",elasticity:500,round:0},Y="translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY perspective".split(" "),F,g={arr:function(a){return Array.isArray(a)},obj:function(a){return-1<Object.prototype.toString.call(a).indexOf("Object")},pth:function(a){return g.obj(a)&&a.hasOwnProperty("totalLength")},svg:function(a){return a instanceof
SVGElement},dom:function(a){return a.nodeType||g.svg(a)},str:function(a){return"string"===typeof a},fnc:function(a){return"function"===typeof a},und:function(a){return"undefined"===typeof a},hex:function(a){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a)},rgb:function(a){return/^rgb/.test(a)},hsl:function(a){return/^hsl/.test(a)},col:function(a){return g.hex(a)||g.rgb(a)||g.hsl(a)}},z=function(){function a(a,d,b){return(((1-3*b+3*d)*a+(3*b-6*d))*a+3*d)*a}return function(c,d,b,e){if(0<=c&&1>=c&&
0<=b&&1>=b){var g=new Float32Array(11);if(c!==d||b!==e)for(var h=0;11>h;++h)g[h]=a(.1*h,c,b);return function(h){if(c===d&&b===e)return h;if(0===h)return 0;if(1===h)return 1;for(var l=0,k=1;10!==k&&g[k]<=h;++k)l+=.1;--k;var k=l+(h-g[k])/(g[k+1]-g[k])*.1,m=3*(1-3*b+3*c)*k*k+2*(3*b-6*c)*k+3*c;if(.001<=m){for(l=0;4>l;++l){m=3*(1-3*b+3*c)*k*k+2*(3*b-6*c)*k+3*c;if(0===m)break;var n=a(k,c,b)-h,k=k-n/m}h=k}else if(0===m)h=k;else{var k=l,l=l+.1,f=0;do n=k+(l-k)/2,m=a(n,c,b)-h,0<m?l=n:k=n;while(1e-7<Math.abs(m)&&
10>++f);h=n}return a(h,d,e)}}}}(),P=function(){function a(a,b){return 0===a||1===a?a:-Math.pow(2,10*(a-1))*Math.sin(2*(a-1-b/(2*Math.PI)*Math.asin(1))*Math.PI/b)}var c="Quad Cubic Quart Quint Sine Expo Circ Back Elastic".split(" "),d={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],a],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],
[.075,.82,.165,1],[.175,.885,.32,1.275],function(b,c){return 1-a(1-b,c)}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(b,c){return.5>b?a(2*b,c)/2:1-a(-2*b+2,c)/2}]},b={linear:z(.25,.25,.75,.75)},e={},l;for(l in d)e.type=l,d[e.type].forEach(function(a){return function(d,e){b["ease"+a.type+c[e]]=g.fnc(d)?d:z.apply($jscomp$this,d)}}(e)),e={type:e.type};return b}(),ka={css:function(a,c,d){return a.style[c]=
d},attribute:function(a,c,d){return a.setAttribute(c,d)},object:function(a,c,d){return a[c]=d},transform:function(a,c,d,b,e){b[e]||(b[e]=[]);b[e].push(c+"("+d+")")}},p=[],A=0,la=function(){function a(){A=requestAnimationFrame(c)}function c(c){var b=p.length;if(b){for(var d=0;d<b;)p[d]&&p[d].tick(c),d++;a()}else cancelAnimationFrame(A),A=0}return a}();m.version="2.1.1";m.speed=1;m.running=p;m.remove=function(a){a=O(a);for(var c=p.length;c--;)for(var d=p[c],b=d.animations,e=b.length;e--;)G(a,b[e].animatable.target)&&
(b.splice(e,1),b.length||d.pause())};m.getValue=J;m.path=function(a,c){var d=g.str(a)?v(a)[0]:a,b=c||100;return function(a){return{el:d,property:a,totalLength:M(d)*(b/100)}}};m.setDashoffset=function(a){var c=M(a);a.setAttribute("stroke-dasharray",c);return c};m.bezier=z;m.easings=P;m.timeline=function(a){var c=m(a);c.pause();c.duration=0;c.add=function(d){c.children.forEach(function(a){a.began=!0;a.completed=!0});w(d).forEach(function(b){var d=x(b,C(R,a||{}));d.targets=d.targets||a.targets;b=c.duration;
var l=d.offset;d.autoplay=!1;d.direction=c.direction;d.offset=g.und(l)?b:K(l,b);c.began=!0;c.completed=!0;c.seek(d.offset);d=m(d);d.began=!0;d.completed=!0;d.duration>b&&(c.duration=d.duration);c.children.push(d)});c.seek(0);c.reset();c.autoplay&&c.restart();return c};return c};m.random=function(a,c){return Math.floor(Math.random()*(c-a+1))+a};return m});