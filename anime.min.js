/*
  2017 Julian Garnier
 Released under the MIT license
*/
var $jscomp$this=this;
(function(p,n){"function"===typeof define&&define.amd?define([],n):"object"===typeof module&&module.exports?module.exports=n():p.anime=n()})(this,function(){function p(a){if(!h.col(a))try{return document.querySelectorAll(a)}catch(b){}}function n(a){return a.reduce(function(a,d){return a.concat(h.arr(d)?n(d):d)},[])}function q(a){if(h.arr(a))return a;h.str(a)&&(a=p(a)||a);return a instanceof NodeList||a instanceof HTMLCollection?[].slice.call(a):[a]}function B(a,b){return a.some(function(a){return a===b})}
function v(a){var b={},d;for(d in a)b[d]=a[d];return b}function C(a,b){var d=v(a),c;for(c in a)d[c]=b.hasOwnProperty(c)?b[c]:a[c];return d}function w(a,b){var d=v(a),c;for(c in b)d[c]=h.und(a[c])?b[c]:a[c];return d}function L(a){a=a.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(a,b,d,f){return b+b+d+d+f+f});var b=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);a=parseInt(b[1],16);var d=parseInt(b[2],16),b=parseInt(b[3],16);return"rgb("+a+","+d+","+b+")"}function M(a){function b(a,b,c){0>
c&&(c+=1);1<c&&--c;return c<1/6?a+6*(b-a)*c:.5>c?b:c<2/3?a+(b-a)*(2/3-c)*6:a}var d=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(a);a=parseInt(d[1])/360;var c=parseInt(d[2])/100,d=parseInt(d[3])/100;if(0==c)c=d=a=d;else{var g=.5>d?d*(1+c):d+c-d*c,e=2*d-g,c=b(e,g,a+1/3),d=b(e,g,a);a=b(e,g,a-1/3)}return"rgb("+255*c+","+255*d+","+255*a+")"}function r(a){if(a=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|pc|vw|vh|deg|rad|turn)?/.exec(a))return a[2]}function N(a){if(-1<a.indexOf("translate"))return"px";
if(-1<a.indexOf("rotate")||-1<a.indexOf("skew"))return"deg"}function x(a,b){if(b in a.style)return getComputedStyle(a).getPropertyValue(b.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())||"0"}function D(a,b){if(h.dom(a)&&B(O,b))return"transform";if(h.dom(a)&&(a.getAttribute(b)||h.svg(a)&&a[b]))return"attribute";if(h.dom(a)&&"transform"!==b&&x(a,b))return"css";if(null!=a[b])return"object"}function P(a,b){var d=N(b),d=-1<b.indexOf("scale")?1:0+d;a=a.style.transform;if(!a)return d;for(var c=[],g=[],
e=[],f=/(\w+)\((.+?)\)/g;c=f.exec(a);)g.push(c[1]),e.push(c[2]);a=e.filter(function(a,c){return g[c]===b});return a.length?a[0]:d}function E(a,b){switch(D(a,b)){case "transform":return P(a,b);case "css":return x(a,b);case "attribute":return a.getAttribute(b)}return a[b]||0}function F(a,b){var d=/^(\*=|\+=|-=)/.exec(a);if(!d)return a;b=parseFloat(b);a=parseFloat(a.replace(d[0],""));switch(d[0][0]){case "+":return b+a;case "-":return b-a;case "*":return b*a}}function y(a){return h.obj(a)&&a.hasOwnProperty("totalLength")}
function Q(a,b){function d(c){c=void 0===c?0:c;return a.el.getPointAtLength(1<=b+c?b+c:0)}var c=d(),g=d(-1),e=d(1);switch(a.property){case "x":return c.x;case "y":return c.y;case "angle":return 180*Math.atan2(e.y-g.y,e.x-g.x)/Math.PI}}function G(a,b){var d=/-?\d*\.?\d+/g;a=y(a)?a.totalLength:a;if(h.col(a))b=h.rgb(a)?a:h.hex(a)?L(a):h.hsl(a)?M(a):void 0;else{var c=r(a);a=c?a.substr(0,a.length-c.length):a;b=b?a+b:a}b+="";return{original:b,numbers:b.match(d)?b.match(d).map(Number):[0],strings:b.split(d)}}
function R(a,b){return b.reduce(function(b,c,g){return b+a[g-1]+c})}function H(a){return(a?n(h.arr(a)?a.map(q):q(a)):[]).filter(function(a,d,c){return c.indexOf(a)===d})}function S(a){var b=H(a);return b.map(function(a,c){return{target:a,id:c,total:b.length}})}function T(a,b){var d=v(b);if(h.arr(a)){var c=a.length;2!==c||h.obj(a[0])?h.fnc(b.duration)||(d.duration=b.duration/c):a={value:a}}return q(a).map(function(a,c){c=c?0:b.delay;a=h.obj(a)&&!y(a)?a:{value:a};h.und(a.delay)&&(a.delay=c);return a}).map(function(a){return w(a,
d)})}function I(a,b){return h.fnc(a)?a(b.target,b.id,b.total):a}function U(a,b){var d={},c;for(c in a){var g=I(a[c],b);h.arr(g)&&(g=g.map(function(a){return I(a,b)}),1===g.length&&(g=g[0]));d[c]=g}d.duration=parseFloat(d.duration);d.delay=parseFloat(d.delay);return d}function V(a){return h.arr(a)?t.apply(this,a):J[a]}function W(a,b){var d;return a.tweens.map(function(c,g){c=U(c,b);var e=c.value,f=E(b.target,a.name),k=d?d.to.original:f,k=h.arr(e)?e[0]:k,e=F(h.arr(e)?e[1]:e,k),f=r(e)||r(k)||r(f);g||
(c.delay+=c.offset);c.from=G(k,f);c.to=G(e,f);c.start=d?d.end+c.delay:c.delay;c.end=c.start+c.duration;c.easing=V(c.easing);c.elasticity=(1E3-Math.min(Math.max(c.elasticity,1),999))/1E3;h.col(c.from.original)&&(c.round=1);return d=c})}function X(a,b){b=Math.min(Math.max(b-a.start,0),a.duration);var d=y(a.value),c=b/a.duration,g=a.round;return R(a.to.numbers.map(function(b,f){var e=a.easing(c,a.elasticity);f=d?0:a.from.numbers[f];b=f+e*(b-f);d&&(b=Q(a.value,b));g&&(b=Math.round(b*g)/g);return b}),
a.to.strings)}function Y(a,b){var d=D(a.target,b.name);if(d){var c=W(b,a);return{type:d,property:b.name,animatable:a,tweens:c,duration:c.reduce(function(a,b){return a+b.delay+b.duration},0),delay:c[0].delay}}}function Z(a,b){return n(a.map(function(a){return b.map(function(b){return Y(a,b)})})).filter(function(a){return!h.und(a)})}function z(a,b){var d={};a.currentTime=b;a.progress=b/a.duration*100;for(var c=a.animations,g=0;g<c.length;g++){var e=c[g],f=e.tweens,f=f.filter(function(a){return a.start-
a.delay<=b&&a.end>=b})[0]||f[f.length-1],f=X(f,b),k=e.animatable;(0,aa[e.type])(k.target,e.property,f,d,k.id);e.currentValue=f}if(d)for(var h in d)A||(A=x(document.body,"transform")?"transform":"-webkit-transform"),a.animatables[h].target.style[A]=d[h].join(" ")}function K(a,b,d){var c="delay"===a?Math.min:Math.max;return b.length?c.apply(Math,b.map(function(b){return b[a]})):d[a]}function ba(a){a=void 0===a?{}:a;var b=C(ca,a),d=C(da,a),c=S(a.targets),g=[],e=w(b,d),f;for(f in a)e.hasOwnProperty(f)||
"targets"===f||g.push({name:f,tweens:T(a[f],d)});f=Z(c,g);return w(b,{animatables:c,animations:f,duration:K("duration",f,d),delay:K("delay",f,d),currentTime:0,progress:0,paused:!0,began:!1,completed:!1,remaining:b.loop})}function l(a){function b(a,b){var e=a.reversed?a.duration-b:b,f=a.duration,h=a.delay,k=a.currentTime;if(a.children)for(var l=a.children,m=0;m<l.length;m++)l[m].seek(e);e<=h&&0!==k&&z(a,0);e>h&&e<f&&(z(a,e),a.began||(a.began=!0,a.completed=!1,a.begin&&a.begin(a)),a.update&&a.update(a));
e>=f&&k!==f&&z(a,f);b>=f&&(a.remaining&&!isNaN(parseFloat(a.remaining))&&a.remaining--,a.remaining?(c=d,"alternate"===a.direction&&(a.reversed=!a.reversed)):(a.remaining=a.loop,a.completed=!0,a.began=!1,a.pause(),a.complete&&a.complete(a)),g=0)}a=void 0===a?{}:a;var d,c,g=0,e=ba(a);e.tick=function(a){d=a;c||(c=d);b(e,(g+d-c)*l.speed)};e.seek=function(a){b(e,e.reversed?e.duration-a:a)};e.pause=function(){var a=m.indexOf(e);-1<a&&m.splice(a,1);e.paused=!0};e.play=function(){if(e.paused){e.paused=!1;
c=0;var a;e.completed?a=0:(a=e.currentTime,a=e.reversed?e.duration-a:a);g=a;"reverse"!==e.direction||e.reversed||(e.reversed=!e.reversed);"alternate"===e.direction&&(e.reversed&&!e.remaining%2&&(e.reversed=!e.reversed),e.remaining||(e.remaining=2));m.push(e);u||ea()}};e.restart=function(){e.pause();e.reversed&&(e.reversed=!e.reversed);e.completed=!1;e.began=!1;e.remaining=e.loop;e.seek(0);e.play()};e.autoplay&&e.restart();return e}var ca={begin:void 0,update:void 0,complete:void 0,loop:0,direction:"normal",
autoplay:!0},da={duration:1E3,delay:0,easing:"easeOutElastic",elasticity:500,round:0,offset:0},O="translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY".split(" "),A,h={arr:function(a){return Array.isArray(a)},obj:function(a){return-1<Object.prototype.toString.call(a).indexOf("Object")},svg:function(a){return a instanceof SVGElement},dom:function(a){return a.nodeType||h.svg(a)},str:function(a){return"string"===typeof a},fnc:function(a){return"function"===
typeof a},und:function(a){return"undefined"===typeof a},hex:function(a){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a)},rgb:function(a){return/^rgb/.test(a)},hsl:function(a){return/^hsl/.test(a)},col:function(a){return h.hex(a)||h.rgb(a)||h.hsl(a)}},t=function(){function a(a,d,c){return(((1-3*c+3*d)*a+(3*c-6*d))*a+3*d)*a}return function(b,d,c,g){if(0<=b&&1>=b&&0<=c&&1>=c){var e=new Float32Array(11);if(b!==d||c!==g)for(var f=0;11>f;++f)e[f]=a(.1*f,b,c);return function(f){if(b===d&&c===g)return f;
if(0===f)return 0;if(1===f)return 1;for(var h=0,k=1;10!==k&&e[k]<=f;++k)h+=.1;--k;var k=h+(f-e[k])/(e[k+1]-e[k])*.1,l=3*(1-3*c+3*b)*k*k+2*(3*c-6*b)*k+3*b;if(.001<=l){for(h=0;4>h;++h){l=3*(1-3*c+3*b)*k*k+2*(3*c-6*b)*k+3*b;if(0===l)break;var m=a(k,b,c)-f,k=k-m/l}f=k}else if(0===l)f=k;else{var k=h,h=h+.1,n=0;do m=k+(h-k)/2,l=a(m,b,c)-f,0<l?h=m:k=m;while(1e-7<Math.abs(l)&&10>++n);f=m}return a(f,d,g)}}}}(),J=function(){function a(a,b){return 0===a||1===a?a:-Math.pow(2,10*(a-1))*Math.sin(2*(a-1-b/(2*Math.PI)*
Math.asin(1))*Math.PI/b)}var b="Quad Cubic Quart Quint Sine Expo Circ Back Elastic".split(" "),d={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],a],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(b,c){return 1-a(1-b,c)}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,
0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(b,c){return.5>b?a(2*b,c)/2:1-a(-2*b+2,c)/2}]},c={linear:t(.25,.25,.75,.75)},g={},e;for(e in d)g.type=e,d[g.type].forEach(function(a){return function(d,e){c["ease"+a.type+b[e]]=h.fnc(d)?d:t.apply($jscomp$this,d)}}(g)),g={type:g.type};return c}(),aa={css:function(a,b,d){return a.style[b]=d},attribute:function(a,b,d){return a.setAttribute(b,d)},object:function(a,b,d){return a[b]=d},transform:function(a,b,d,c,g){c[g]||
(c[g]=[]);c[g].push(b+"("+d+")")}},m=[],u=0,ea=function(){function a(){u=requestAnimationFrame(b)}function b(b){if(m.length){for(var c=0;c<m.length;c++)m[c].tick(b);a()}else cancelAnimationFrame(u),u=0}return a}();l.version="2.0.0";l.speed=1;l.running=m;l.remove=function(a){a=H(a);for(var b=m.length-1;0<=b;b--)for(var d=m[b],c=d.animations,g=c.length-1;0<=g;g--)B(a,c[g].animatable.target)&&(c.splice(g,1),c.length||d.pause())};l.getValue=E;l.path=function(a,b){var d=h.str(a)?p(a)[0]:a,c=b||100;return function(a){return{el:d,
property:a,totalLength:d.getTotalLength()*(c/100)}}};l.setDashoffset=function(a){var b=a.getTotalLength();a.setAttribute("stroke-dasharray",b);return b};l.bezier=t;l.easings=J;l.timeline=function(a){var b=l(a);b.duration=0;b.children=[];b.add=function(a){q(a).forEach(function(a){var c=a.offset,d=b.duration;a.offset=h.und(c)?d:F(c,d);a=l(a);a.duration>d&&(b.duration=a.duration);a.pause();b.children.push(a)})};return b};l.random=function(a,b){return Math.floor(Math.random()*(b-a+1))+a};return l});