<!DOCTYPE html>
<html>
<head>
<title>anime.js</title>
<meta charset="utf-8">
<link rel="icon" type="image/png" href="img/favicon.png" />
<link rel="apple-touch-icon" href="img/apple-touch-icon.png" />
<link href="css/styles.css" rel="stylesheet">
</head>
<style>

  article {
    position: relative;
  }

  fieldset {
    margin-bottom: 1rem;
  }

  .progress {
    width: 82%;
    margin-bottom: 1rem;
    margin-left: auto;
    margin-right: auto;
  }

  div {
    width: 2rem;
    height: 2rem;
    margin-top: auto;
    margin-bottom: auto;
    mix-blend-mode: lighten;
  }

  .follow {
    position: absolute;
    top: -.5rem;
    left: -.5rem;
    width: 1rem;
    height: 1rem;
  }

</style>
</head>
<body>
  <section>
    <article>
      <div class="follow yellow"></div>
      <svg width="256" height="112" viewBox="0 0 256 112">
        <path fill="none" stroke="#FFF" d="M8,56 C8,33.90861 25.90861,16 48,16 C70.09139,16 88,33.90861 88,56 C88,78.09139 105.90861,92 128,92 C150.09139,92 160,72 160,56 C160,40 148,24 128,24 C108,24 96,40 96,56 C96,72 105.90861,92 128,92 C154,93 168,78 168,56 C168,33.90861 185.90861,16 208,16 C230.09139,16 248,33.90861 248,56 C248,78.09139 230.09139,96 208,96 L48,96 C25.90861,96 8,78.09139 8,56 Z"/>
      </svg>
      <div class="blue">anim 01</div>
      <div class="green">anim 02</div>
      <div class="green">anim 02</div>
      <div class="green">anim 02</div>
      <div class="red">anim 03</div>
    </article>
    <input class="progress" type="range" value="0" min="0" max="100"></input>
    <fieldset>
      <button class="play">Play</button>
      <button class="pause">Pause</button>
      <button class="restart">Restart</button>
      <input class="percents" type="text"></input>
    </fieldset>
  </section>
  <script src="../anime.min.js"></script>
  <script>

    var playButton = document.querySelector('.play');
    var pauseButton = document.querySelector('.pause');
    var restartButton = document.querySelector('.restart');
    var progress = document.querySelector('.progress');
    var percents = document.querySelector('.percents');

    var path = anime.path('path');

    var timeline = anime.timeline({
      update: function(animation) {
        progress.value = timeline.progress;
        percents.value = Math.round(timeline.progress) + '%';
      }
    });

    timeline.add([
      anime({
        targets: '.blue',
        translateX: -200,
        duration: 1000
      }),
      anime({
        targets: '.green',
        translateY: -40,
        translateX: 100,
        duration: function(el, i) {return 1000 + (i * 500) },
        delay: function(el, i) {return 1000 + (i * 500) }
      }),
      anime({
        targets: '.red',
        translateX: 200,
        duration: 4000
      }),
      anime({
        targets: '.follow',
        translateX: path('x'),
        translateY: path('y'),
        rotate: path('angle'),
        duration: 3000,
        easing: 'easeInOutQuart'
      })
    ]);

    console.log(timeline);

    playButton.addEventListener('click', function() { timeline.play(); });
    pauseButton.addEventListener('click', function() { timeline.pause(); });
    restartButton.addEventListener('click', function() { timeline.restart(); });
    progress.addEventListener('input', function() { timeline.seek(progress.value); });


  </script>
</body>
</html>
